read_liberty -lib scripts/cells.lib

# Check design hierarchy
hierarchy

# Translate processes (always blocks)
proc; opt

# Detect and optimize FSM encodings
fsm; opt

# Implement memories (arrays)
memory; opt

# Convert to gate logic
techmap; opt

# Map flip-flops
dfflibmap -liberty scripts/cells.lib; opt

# Optimize with our library
abc -liberty scripts/cells.lib; opt

opt_clean
